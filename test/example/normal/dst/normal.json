[
    {
        "__class__":"HdlModuleDef",
        "position":[
            1,
            1,
            39,
            9
        ],
        "name":{
            "__class__":"str",
            "val":null
        },
        "dec":{
            "__class__":"HdlModuleDec",
            "position":[
                1,
                1,
                39,
                9
            ],
            "name":{
                "__class__":"str",
                "val":"FSM"
            },
            "objs":[],
            "declaration_only":false,
            "params":[
                {
                    "__class__":"HdlIdDef",
                    "doc":{
                        "__class__":"str",
                        "val":" \u5b9a\u4e49\u72b6\u6001\n"
                    },
                    "position":[
                        8,
                        11,
                        8,
                        16
                    ],
                    "name":{
                        "__class__":"str",
                        "val":"S0"
                    },
                    "type":{
                        "__class__":"HdlTypeAuto"
                    },
                    "value":{
                        "__class__":"HdlValueInt",
                        "val":"0",
                        "base":10
                    },
                    "direction":"INTERNAL"
                },
                {
                    "__class__":"HdlIdDef",
                    "position":[
                        8,
                        19,
                        8,
                        24
                    ],
                    "name":{
                        "__class__":"str",
                        "val":"S1"
                    },
                    "type":{
                        "__class__":"HdlTypeAuto"
                    },
                    "value":{
                        "__class__":"HdlValueInt",
                        "val":"1",
                        "base":10
                    },
                    "direction":"INTERNAL"
                },
                {
                    "__class__":"HdlIdDef",
                    "position":[
                        8,
                        27,
                        8,
                        32
                    ],
                    "name":{
                        "__class__":"str",
                        "val":"S2"
                    },
                    "type":{
                        "__class__":"HdlTypeAuto"
                    },
                    "value":{
                        "__class__":"HdlValueInt",
                        "val":"2",
                        "base":10
                    },
                    "direction":"INTERNAL"
                }
            ],
            "ports":[
                {
                    "__class__":"HdlIdDef",
                    "position":[
                        2,
                        5,
                        2,
                        18
                    ],
                    "name":{
                        "__class__":"str",
                        "val":"clk"
                    },
                    "type":{
                        "__class__":"HdlTypeAuto"
                    },
                    "direction":"IN"
                },
                {
                    "__class__":"HdlIdDef",
                    "position":[
                        3,
                        5,
                        3,
                        20
                    ],
                    "name":{
                        "__class__":"str",
                        "val":"reset"
                    },
                    "type":{
                        "__class__":"HdlTypeAuto"
                    },
                    "direction":"IN"
                },
                {
                    "__class__":"HdlIdDef",
                    "position":[
                        4,
                        5,
                        4,
                        24
                    ],
                    "name":{
                        "__class__":"str",
                        "val":"state_out"
                    },
                    "type":{
                        "__class__":"HdlOp",
                        "ops":[
                            "reg",
                            {
                                "__class__":"str",
                                "val":null
                            },
                            {
                                "__class__":"str",
                                "val":null
                            }
                        ],
                        "fn":"PARAMETRIZATION"
                    },
                    "direction":"OUT"
                }
            ]
        },
        "module_name":"FSM",
        "objs":[
            {
                "__class__":"HdlIdDef",
                "doc":{
                    "__class__":"str",
                    "val":" \u72b6\u6001\u673a\u5f53\u524d\u72b6\u6001\n"
                },
                "position":[
                    11,
                    11,
                    11,
                    23
                ],
                "name":{
                    "__class__":"str",
                    "val":"current_state"
                },
                "is_static":true,
                "type":{
                    "__class__":"HdlOp",
                    "ops":[
                        "reg",
                        {
                            "__class__":"HdlOp",
                            "ops":[
                                {
                                    "__class__":"HdlValueInt",
                                    "val":"1",
                                    "base":10
                                },
                                {
                                    "__class__":"HdlValueInt",
                                    "val":"0",
                                    "base":10
                                }
                            ],
                            "fn":"DOWNTO"
                        },
                        {
                            "__class__":"str",
                            "val":null
                        }
                    ],
                    "fn":"PARAMETRIZATION"
                },
                "direction":"INTERNAL"
            },
            {
                "__class__":"HdlStmProcess",
                "doc":{
                    "__class__":"str",
                    "val":" \u521d\u59cb\u5757\uff0c\u4f7f\u7528while\u5faa\u73af\u8fdb\u884c\u72b6\u6001\u521d\u59cb\u5316\n"
                },
                "position":[
                    14,
                    1,
                    28,
                    3
                ],
                "labels":[],
                "body":{
                    "__class__":"HdlStmBlock",
                    "position":[
                        14,
                        9,
                        28,
                        3
                    ],
                    "labels":[],
                    "join_t":"SEQ",
                    "body":[
                        {
                            "__class__":"HdlStmWhile",
                            "position":[
                                15,
                                5,
                                27,
                                7
                            ],
                            "labels":[],
                            "cond":{
                                "__class__":"HdlValueInt",
                                "val":"1",
                                "base":10
                            },
                            "body":{
                                "__class__":"HdlStmBlock",
                                "position":[
                                    15,
                                    15,
                                    27,
                                    7
                                ],
                                "labels":[],
                                "join_t":"SEQ",
                                "body":[
                                    {
                                        "__class__":"HdlStmProcess",
                                        "position":[
                                            16,
                                            9,
                                            16,
                                            23
                                        ],
                                        "labels":[],
                                        "sensitivity":[
                                            {
                                                "__class__":"HdlOp",
                                                "ops":[
                                                    "clk"
                                                ],
                                                "fn":"RISING"
                                            }
                                        ],
                                        "body":{
                                            "__class__":"HdlStmNop",
                                            "position":[
                                                16,
                                                23,
                                                16,
                                                23
                                            ],
                                            "labels":[]
                                        }
                                    },
                                    {
                                        "__class__":"HdlStmIf",
                                        "position":[
                                            17,
                                            9,
                                            26,
                                            11
                                        ],
                                        "labels":[],
                                        "cond":"reset",
                                        "if_true":{
                                            "__class__":"HdlStmBlock",
                                            "position":[
                                                17,
                                                20,
                                                19,
                                                11
                                            ],
                                            "labels":[],
                                            "join_t":"SEQ",
                                            "body":[
                                                {
                                                    "__class__":"HdlOp",
                                                    "ops":[
                                                        "current_state",
                                                        "S0"
                                                    ],
                                                    "fn":"ASSIGN"
                                                }
                                            ]
                                        },
                                        "elifs":[],
                                        "if_false":{
                                            "__class__":"HdlStmBlock",
                                            "position":[
                                                19,
                                                18,
                                                26,
                                                11
                                            ],
                                            "labels":[],
                                            "join_t":"SEQ",
                                            "body":[
                                                {
                                                    "__class__":"HdlStmCase",
                                                    "position":[
                                                        20,
                                                        13,
                                                        25,
                                                        19
                                                    ],
                                                    "labels":[],
                                                    "type":"CASE",
                                                    "switch_on":"current_state",
                                                    "cases":[
                                                        [
                                                            "S0",
                                                            {
                                                                "__class__":"HdlOp",
                                                                "ops":[
                                                                    "current_state",
                                                                    "S1"
                                                                ],
                                                                "fn":"ASSIGN"
                                                            }
                                                        ],
                                                        [
                                                            "S1",
                                                            {
                                                                "__class__":"HdlOp",
                                                                "ops":[
                                                                    "current_state",
                                                                    "S2"
                                                                ],
                                                                "fn":"ASSIGN"
                                                            }
                                                        ],
                                                        [
                                                            "S2",
                                                            {
                                                                "__class__":"HdlOp",
                                                                "ops":[
                                                                    "current_state",
                                                                    "S0"
                                                                ],
                                                                "fn":"ASSIGN"
                                                            }
                                                        ]
                                                    ],
                                                    "default":{
                                                        "__class__":"HdlOp",
                                                        "ops":[
                                                            "current_state",
                                                            "S0"
                                                        ],
                                                        "fn":"ASSIGN"
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "__class__":"HdlStmWait",
                            "position":[
                                14,
                                1,
                                28,
                                3
                            ],
                            "labels":[],
                            "val":{
                                "__class__":"list",
                                "items":[]
                            }
                        }
                    ]
                }
            },
            {
                "__class__":"HdlStmProcess",
                "doc":{
                    "__class__":"str",
                    "val":" \u5c06\u5f53\u524d\u72b6\u6001\u8f93\u51fa\u5230state_out\n"
                },
                "position":[
                    31,
                    8,
                    37,
                    3
                ],
                "labels":[],
                "sensitivity":[
                    {
                        "__class__":"HdlOp",
                        "ops":[
                            "clk"
                        ],
                        "fn":"RISING"
                    }
                ],
                "body":{
                    "__class__":"HdlStmBlock",
                    "position":[
                        31,
                        23,
                        37,
                        3
                    ],
                    "labels":[],
                    "join_t":"SEQ",
                    "body":[
                        {
                            "__class__":"HdlStmIf",
                            "position":[
                                32,
                                5,
                                36,
                                7
                            ],
                            "labels":[],
                            "cond":"reset",
                            "if_true":{
                                "__class__":"HdlStmBlock",
                                "position":[
                                    32,
                                    16,
                                    34,
                                    7
                                ],
                                "labels":[],
                                "join_t":"SEQ",
                                "body":[
                                    {
                                        "__class__":"HdlStmAssign",
                                        "position":[
                                            33,
                                            9,
                                            33,
                                            25
                                        ],
                                        "labels":[],
                                        "src":{
                                            "__class__":"HdlValueInt",
                                            "val":"0",
                                            "bits":1,
                                            "base":2
                                        },
                                        "dst":"state_out",
                                        "is_blocking":false
                                    }
                                ]
                            },
                            "elifs":[],
                            "if_false":{
                                "__class__":"HdlStmBlock",
                                "position":[
                                    34,
                                    14,
                                    36,
                                    7
                                ],
                                "labels":[],
                                "join_t":"SEQ",
                                "body":[
                                    {
                                        "__class__":"HdlStmAssign",
                                        "position":[
                                            35,
                                            9,
                                            35,
                                            37
                                        ],
                                        "labels":[],
                                        "src":{
                                            "__class__":"HdlOp",
                                            "ops":[
                                                "current_state",
                                                {
                                                    "__class__":"HdlValueInt",
                                                    "val":"0",
                                                    "base":10
                                                }
                                            ],
                                            "fn":"INDEX"
                                        },
                                        "dst":"state_out",
                                        "is_blocking":false
                                    }
                                ]
                            }
                        }
                    ]
                }
            }
        ]
    }
]